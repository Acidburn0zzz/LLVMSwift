<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (100% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Context.html">Context</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Function.html">Function</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FunctionPassManager.html">FunctionPassManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/IRBuilder.html">IRBuilder</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/JIT.html">JIT</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MemoryBuffer.html">MemoryBuffer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Module.html">Module</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Target.html">Target</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TargetData.html">TargetData</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TargetMachine.html">TargetMachine</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/AtomicOrdering.html">AtomicOrdering</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/AtomicReadModifyWriteOperation.html">AtomicReadModifyWriteOperation</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ByteOrder.html">ByteOrder</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/CallingConvention.html">CallingConvention</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/CodeGenOptLevel.html">CodeGenOptLevel</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/CodeModel.html">CodeModel</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/CodegenFileType.html">CodegenFileType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/FloatType.html">FloatType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums.html#/s:O4LLVM8Floating">Floating</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/FunctionPass.html">FunctionPass</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/IntPredicate.html">IntPredicate</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/JITError.html">JITError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Linkage.html">Linkage</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/MemoryBufferError.html">MemoryBufferError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ModuleError.html">ModuleError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/OpCode.html">OpCode</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/OverflowBehavior.html">OverflowBehavior</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/RealPredicate.html">RealPredicate</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/RelocMode.html">RelocMode</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums.html#/s:O4LLVM6Signed">Signed</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TargetMachineError.html">TargetMachineError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums.html#/s:O4LLVM8Unsigned">Unsigned</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Visibility.html">Visibility</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/Bool.html">Bool</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Int.html">Int</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Int16.html">Int16</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Int32.html">Int32</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Int64.html">Int64</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Int8.html">Int8</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/LLVMValueRef.html">LLVMValueRef</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UInt.html">UInt</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UInt16.html">UInt16</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UInt32.html">UInt32</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UInt64.html">UInt64</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UInt8.html">UInt8</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:F4LLVMop1sFGVS_8ConstantOS_6Signed_GS0_S1__">-(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F4LLVMop1sFGVS_8ConstantOS_8Floating_GS0_S1__">-(_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols.html#/s:P4LLVM22ConstantRepresentation">ConstantRepresentation</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/IRGlobal.html">IRGlobal</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/IRType.html">IRType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/IRValue.html">IRValue</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols.html#/s:P4LLVM30IntegralConstantRepresentation">IntegralConstantRepresentation</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/Alias.html">Alias</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ArrayType.html">ArrayType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/BasicBlock.html">BasicBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Constant.html">Constant</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/FunctionType.html">FunctionType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Global.html">Global</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Instruction.html">Instruction</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/IntType.html">IntType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LabelType.html">LabelType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/MetadataType.html">MetadataType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Parameter.html">Parameter</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PhiNode.html">PhiNode</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/PointerType.html">PointerType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/StructType.html">StructType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Switch.html">Switch</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TokenType.html">TokenType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Use.html">Use</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/VectorType.html">VectorType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/VoidType.html">VoidType</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/X86MMXType.html">X86MMXType</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <a href='#llvmswift' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='llvmswift'>LLVMSwift</h1>

<p><a href="https://travis-ci.org/trill-lang/LLVMSwift"><img src="https://travis-ci.org/trill-lang/LLVMSwift.svg?branch=master" alt="Build Status"></a> <a href="https://trill-lang.github.io/LLVMSwift"><img src="https://cdn.rawgit.com/trill-lang/LLVMSwift/master/docs/badge.svg" alt="Documentation"></a> <a href="https://llvmswift-slack.herokuapp.com"><img src="https://llvmswift-slack.herokuapp.com/badge.svg" alt="Slack Invite"></a></p>

<p>LLVMSwift is a set of Swifty API wrappers for the LLVM C API.
It makes compiler development feel great from Swift!</p>
<a href='#usage' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='usage'>Usage</h2>

<p>To start emitting IR, you&rsquo;ll want to create a <code>Module</code> object, with an optional <code>Context</code> parameter,
and an <code>IRBuilder</code> that will build instructions for that module. </p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">module</span> <span class="o">=</span> <span class="kt">Module</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"main"</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">builder</span> <span class="o">=</span> <span class="kt">IRBuilder</span><span class="p">(</span><span class="nv">module</span><span class="p">:</span> <span class="n">module</span><span class="p">)</span>
</code></pre>

<p>Once you do that, you can start adding functions, global variables, and generating instructions!</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">main</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="nf">addFunction</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"main"</span><span class="p">,</span> 
                               <span class="nv">type</span><span class="p">:</span> <span class="kt">FunctionType</span><span class="p">(</span><span class="nv">argTypes</span><span class="p">:</span> <span class="p">[],</span>
                                                  <span class="nv">returnType</span><span class="p">:</span> <span class="kt">VoidType</span><span class="p">()))</span>
<span class="k">let</span> <span class="nv">entry</span> <span class="o">=</span> <span class="n">main</span><span class="o">.</span><span class="nf">appendBasicBlock</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"entry"</span><span class="p">)</span>
<span class="n">builder</span><span class="o">.</span><span class="nf">positionAtEnd</span><span class="p">(</span><span class="nv">of</span><span class="p">:</span> <span class="n">entry</span><span class="p">)</span>

<span class="n">builder</span><span class="o">.</span><span class="nf">buildRetVoid</span><span class="p">()</span>

<span class="n">module</span><span class="o">.</span><span class="nf">dump</span><span class="p">()</span>
</code></pre>

<p>The IRBuilder class has methods for almost all functions from the LLVM C API, like:</p>

<ul>
<li><code>builder.buildAdd</code></li>
<li><code>builder.buildSub</code></li>
<li><code>builder.buildMul</code></li>
<li><code>builder.buildCondBr</code></li>
<li><code>builder.addSwitch</code></li>
</ul>

<p>and so many more.</p>

<p>Plus, it provides common wrappers around oft-used types like <code>Function</code>, <code>Global</code>, <code>Switch</code>, and <code>PhiNode</code>.</p>
<a href='#installation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='installation'>Installation</h2>

<p>There are a couple, annoying steps you need to get it working before it&rsquo;ll
build.</p>

<ul>
<li>Install LLVM 3.9 using your favorite package manager. For example:

<ul>
<li><code>brew install llvm</code></li>
</ul></li>
<li>Ensure <code>llvm-config</code> is in your <code>PATH</code>

<ul>
<li>That will reside in the <code>/bin</code> folder wherever your package manager
installed LLVM.</li>
</ul></li>
<li>Create a pkg-config file for your specific LLVM installation.

<ul>
<li>We have a utility for this: <code>swift utils/make-pkgconfig.swift</code></li>
</ul></li>
</ul>

<p>Once you do that, you can add LLVMSwift as a dependency for your own Swift
compiler projects!</p>
<a href='#installation-without-swift-package-manager' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='installation-without-swift-package-manager'>Installation without Swift Package Manager</h3>

<p>We really recommend using SwiftPM with LLVMSwift, but if your project is
structured in such a way that makes using SwiftPM impractical or impossible,
you can still use LLVMSwift by passing the <code>-DNO_SWIFTPM</code> to swift when
compiling.</p>

<ul>
<li>Xcode:

<ul>
<li>Add this repository as a git submodule</li>
<li>Add the files in <code>Sources/</code> to your Xcode project.</li>
<li>Under <code>Other Swift Flags</code>, add <code>-DNO_SWIFTPM</code>.</li>
<li>Under <code>Library Search Paths</code> add the output of <code>llvm-config --libdir</code></li>
<li>Under <code>Header Search Paths</code> add the output of <code>llvm-config --includedir</code></li>
<li>Under <code>Link Target with Libraries</code> drag in
<code>/path/to/your/llvm/lib/libLLVM.dylib</code></li>
</ul></li>
</ul>

<p>This project is used by <a href="https://github.com/harlanhaskins/trill">Trill</a> for
all its code generation.</p>
<a href='#authors' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='authors'>Authors</h2>

<ul>
<li>Harlan Haskins (<a href="https://github.com/harlanhaskins">@harlanhaskins</a>)</li>
<li>Robert Widmann (<a href="https://github.com/CodaFi">@CodaFi</a>)</li>
</ul>
<a href='#license' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='license'>License</h2>

<p>This project is released under the MIT license, a copy of which is available
in this repo.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2017-01-27)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
